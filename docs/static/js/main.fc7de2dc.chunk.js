(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(21)},17:function(e,t,a){},20:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),c=a.n(o),i=(a(17),a(1)),s=a.n(i),l=a(3),u=a(2),m=a(6),h=a(9),d=a(7),p=a(10),f=(a(20),a(8)),k=a.n(f),g=function e(t,a,n){var r=this;Object(u.a)(this,e),this.getName=function(){return r.name},this.getType=function(){return r.type},this.getSprite=function(){return r.sprite},this.name=t,this.type=a,this.sprite=n},v="https://pokeapi.co/api/v2/pokemon/",w=151,y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).fetchPokemons=function(){var e=Object(l.a)(s.a.mark(function e(t,n){var r,o,c,i,l,u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t;case 1:if(!(r<n+1)){e.next=19;break}return e.prev=2,e.next=5,a.fetchUrl(v+r);case 5:o=e.sent,c=o.id,i=o.name,l=o.types[0].type.name,u=o.sprites.front_default,i&&l&&u?(a.pokemons.set(c,new g(i,l,u)),a.preloadImage(u)):a.fetchPokemons(r,r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.warn(e.t0.message);case 16:r++,e.next=1;break;case 19:case"end":return e.stop()}},e,null,[[2,13]])}));return function(t,a){return e.apply(this,arguments)}}(),a.fetchUrl=function(){var e=Object(l.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then(function(e){if(!e.ok)throw new Error("Error "+e.code);return e.json()}).catch(function(e){return console.warn(e.message)}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.preloadImage=function(e){(new Image).src=e},a.displayPokemons=function(){if(a.pokemons.size){var e=a.getAvailable();if(e.length){var t=e[a.getRandom(e.length)-1];a.displayed.add(t),a.displayed=a.sortSet(a.displayed),a.drawPokemons(),a.displayed.size===w&&clearInterval(a.interval)}}},a.getAvailable=function(){for(var e=[],t=a.pokemons.keys(),n=t.next().value;void 0!==n;)a.displayed.has(n)||a.caught.has(n)||e.push(n),n=t.next().value;return e},a.getRandom=function(e){return Math.floor(Math.random()*e)+1},a.sortSet=function(e){return new Set(Array.from(e).sort(function(e,t){return parseInt(e)-parseInt(t)}))},a.drawPokemons=function(){if(a.displayed.size){var e=[];a.displayed.forEach(function(t){var n=a.pokemons.get(t);e.push(r.a.createElement("img",{src:n.getSprite(),alt:n.getName(),onClick:function(){return a.clickDisplayed(t)},key:t}))}),a.setState({wildPoke:e})}},a.drawCaughtPokemons=function(){var e=[];a.caught.forEach(function(t){var n=a.pokemons.get(t);e.push(r.a.createElement("div",{className:"pokeFrame",key:t,onClick:function(){return a.clickCaught(t)}},r.a.createElement("div",{className:"pokePic"},r.a.createElement("img",{src:n.getSprite(),alt:n.getName()})),r.a.createElement("div",{className:"pokeDetails"},r.a.createElement("p",null,"Id: "),r.a.createElement("p",null,"Name: "),r.a.createElement("p",null,"Type: ")),r.a.createElement("div",{className:"pokeDetails"},r.a.createElement("p",null,t),r.a.createElement("p",null,n.getName()),r.a.createElement("p",null,n.getType()))))}),a.setState({caughtPoke:e})},a.clickDisplayed=function(e){6!==a.caught.size&&(a.caught.add(e),a.caught=a.sortSet(a.caught),a.displayed.delete(e),a.drawPokemons(),a.drawCaughtPokemons(),a.catchAll.add(e),a.catchAll.size===w&&a.setState({catchAll:!0}))},a.clickCaught=function(e){a.displayed.add(e),a.displayed=a.sortSet(a.displayed),a.caught.delete(e),a.drawPokemons(),a.drawCaughtPokemons()},a.state={wildPoke:[],caughtPoke:[],catchAll:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.pokemons=new Map,this.displayed=new Set,this.caught=new Set,this.catchAll=new Set,this.fetchPokemons(1,99),setTimeout(function(){return e.fetchPokemons(100,w)},6e4),this.interval=setInterval(this.displayPokemons,500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columnLeft"},r.a.createElement("h3",null,"Wild Pok\xe9mons"),r.a.createElement("div",{className:"pokemonListLeft"},this.state.wildPoke)),r.a.createElement("div",{className:"columnRight"},r.a.createElement("h3",null,"Caught Pok\xe9mons"),r.a.createElement("div",{className:"pokemonListRight"},this.state.catchAll&&r.a.createElement("div",null,r.a.createElement("img",{src:k.a,alt:"Gotta catch 'em all!",style:{width:384}})),this.state.caughtPoke)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){e.exports=a.p+"static/media/catchall.5ed4e078.png"}},[[11,1,2]]]);
//# sourceMappingURL=main.fc7de2dc.chunk.js.map